
<table style="width: 100%;">
    <tr>
        <td style="text-align: right;">
            <mat-icon *ngIf="!maxSize" (click)="maximizeDialog()">unfold_more</mat-icon>
            <mat-icon *ngIf="maxSize" (click)="minimizeDialog()">unfold_less</mat-icon>
            <mat-icon  (click)="closeDialog()">clear</mat-icon>
        </td>
    </tr>
</table>
<h2  style="color:rgb(42, 42, 138);">Aceptar / Rechazar trasferencia de unidad</h2>
<h4 style="color:rgba(31, 31, 167, 0.227);"> Unidad: {{data.unidadesModel.vin}} - {{data.unidadesModel.modelo}}</h4>
<hr>
<p></p>
<label *ngIf="errorLocalidad" style="color:red">Seleccione la sucursal destino.</label>

<p *ngIf=" errorLocalidad"></p>
<table style="width:90%">
    <tr>
        <td>
            <label >Distribuidor origen</label>
        </td>
        <td>
            <label >Distribuidor destino</label>
        </td>
        <td>
            <label >Forma de pago</label>
        </td>        
        <td *ngIf="data.unidadesModel.intEsReceptor ==1">
            <label >Sucursal destino</label>
        </td>
        <td>

        </td>
        <td></td>
    </tr>
    <tr>
        <td>
            <label >{{data.unidadesModel.strNombreDealer}}</label>
        </td>
        <td>
            <label >{{data.unidadesModel.strNombreDealerNuevo}}</label>
        </td>
        <td>
            <label >{{data.unidadesModel.strTipoPago}}</label>
        </td>        
        <td *ngIf="data.unidadesModel.intIdTraspaso == 0
                && data.unidadesModel.intEsReceptor ==1">
            <mat-form-field appearance="fill">
                <mat-label>Sucursales</mat-label>
                <mat-select  (selectionChange)="getNuevaLocalidad($event.value)">
                  <mat-option 
                  *ngFor="let localidad of ListLocalidadesCombo" 
                  [value]="localidad.idlocalidad">
                  {{localidad.strNombreLocalidad}}
                </mat-option>

                </mat-select>
              </mat-form-field>
        </td>
        <td *ngIf="data.unidadesModel.intEsReceptor ==1">
            <button  (click)="guardarSolicitudTraspaso(data.unidadesModel,2)"   type="button" ><mat-icon>check</mat-icon>Aceptar transferencia</button>
        </td>
        <td *ngIf="data.unidadesModel.intEsReceptor ==1"><button  (click)="guardarSolicitudTraspaso(data.unidadesModel,0)"   type="button" ><mat-icon>clear</mat-icon>Rechazar transferencia</button></td>
        <td *ngIf="data.unidadesModel.intEsReceptor ==0">
            <label>Pendiente de aceptaci√≥n por {{data.unidadesModel.strNombreDealerNuevo}}</label>
        </td>
    </tr>
</table>